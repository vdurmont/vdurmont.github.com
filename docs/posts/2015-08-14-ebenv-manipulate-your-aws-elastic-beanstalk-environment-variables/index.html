<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Vincent Durmont</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css?family=Montserrat"
      rel="stylesheet"
    />
    <link rel="stylesheet" type="text/css" href="/assets/css/vdurmont.css" />
    <link
      rel="stylesheet"
      type="text/css"
      href="/assets/css/prism-hopscotch.css"
    />
  </head>
  <body>
    <div class="page">
      <h1 class="title"><a href="/">Vincent Durmont</a></h1>
      
<p><a href="/">&laquo; Back</a></p>

<p class="blog-date">August 14, 2015</p>
<h1 class="blog-title">ebenv â€” Manipulate your AWS ElasticBeanstalk environment variables</h1>
<p>Recently, I used AWS ElasticBeanstalk a lot to deploy a few applications and it is always a pain to configure all the environment variables I need to run my applications.</p>
<p>To solve this problem, I published a small application that enables you to manipulate your environment directly from your configuration files: <strong><a href="https://github.com/vdurmont/ebenv">ebenv</a></strong>.</p>
<!--more-->
<p>On one of my most recent projects, here is the type of configuration file I use:</p>
<p>myproject.aws.access_key=AAAAAAAAAAAAAAAAAAAA
myproject.aws.secret_key=AAAAAAAAAAAAAAAAAAAA</p>
<p>myproject.db.password=AAAAAAAAAAAAAAAAAAAA
myproject.db.show_sql=false
myproject.db.type=MYSQL
myproject.db.url=jdbc:mysql://localhost:3306/myproject
myproject.db.username=root</p>
<p>myproject.files.bucket=/tmp/myprojectfiles
myproject.files.type=LOCAL</p>
<p>myproject.github.client_id=AAAAAAAAAAAAAAAAAAAA
myproject.github.client_secret=AAAAAAAAAAAAAAAAAAAA</p>
<p>myproject.mandrill.enabled=true
myproject.mandrill.api_key=AAAAAAAAAAAAAAAAAAAA</p>
<p>myproject.url.api=http://localhost:9997
myproject.url.static=http://localhost:9998
myproject.url.website=http://localhost:9999</p>
<p># 30 minutes
myproject.worker.user.delay=1800000</p>
<p>Everytime I set up a new environment I have to use the web interface to add the variables one by one. That's a lot of copy/paste. Probably a job for a robot ;)</p>
<p>The <a href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3.html">ElasticBeanstalk client</a> enables us to define the environment variables with a command:</p>
<p>eb setenv keyA=valA keyB=valB keyC=valC</p>
<p>It is still too long to write this command line and that is why I created <strong><a href="https://github.com/vdurmont/ebenv">ebenv</a></strong>.</p>
<h3>Installation</h3>
<p>Simple one-liner ;)</p>
<p>npm install -g ebenv</p>
<h3>Export AWS config to a file</h3>
<p>ebenv export myfile.json
ebenv export myfile.yml
ebenv export myfile.properties
ebenv export --format=json myfile</p>
<h3>Write a file to the AWS config</h3>
<p>ebenv import myfile.json
ebenv import myfile.yml
ebenv import myfile.properties
ebenv import --format=json myfile</p>
<p>Try it out!</p>
<p><a class="btn btn-primary" href="https://github.com/vdurmont/ebenv">Github repo: vdurmont/ebenv</a></p>


    </div>
  </body>
</html>
